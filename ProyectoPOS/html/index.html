<!DOCTYPE html>
<html lang="es">

<head>
    <link rel="stylesheet" href="../css/style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pkt Express</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>


<body>

    <!--Esto es el contenedor principal, aqui va a estar la imagen principal y el boton de rastrear-->
    <div class="principal">

        <!--Aqui es donde va a estar el menu con las 4 opciones de crud-->
        <div class="cabecera">

            <nav class="navbar navbar-custom">

                <div class="container d-flex align-items-center">
                    <!-- Imagen y marca -->
                    <a class="navbar-brand d-flex align-items-center" href="../html/index.html">
                        <img src="../img/iconoPrincipal.png" alt="Bootstrap" width="30" height="24">
                        <span class="ms-2 text-white cambiarTamano">Pkt Express</span>
                    </a>
                    <!-- Opciones delante de la imagen -->
                    <ul class="navbar-nav flex-row gap-3">
                        <li class="nav-item">
                            <a class="nav-link text-white" href="#textoAcerca">Acerca de</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="../html/formRastrear.html">Rastreo</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="../html/formEnviar.html">Envío</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link text-white" href="../html/formComentario.html">Comentarios</a>
                        </li>
                    </ul>
                </div>
            </nav>

        </div>


        <div class="rastrea">

            <form action="" class="formularioRastreo" id="consultaEnvio">

                <h2 class="lblEnvio">
                    Rastrea tu envío
                </h2>

                <div class="cuadroBotonRastrear">
                    <input type="text" id="numEnvio" name="codigoRastrea" placeholder="Ingresa el número de envío"
                        required>

                    <button type="submit" class="">
                        Rastrear
                    </button>
                </div>

            </form>


        </div>


        <div class="menuOpciones">
            <br><br>

            <h2>Servicios</h2>

            <br>

            <div class="cajitas">
                <a href="../html/formEnviar.html">
                    <img src="../img/iconoCrear.png" alt="">
                    <p>Enviar</p>
                </a>

                <a href="../html/formModificar.html">
                    <img src="../img/iconoModificar.png" alt="">
                    <p>Modificar envío</p>
                </a>

                <a href="../html/formRastrear.html">
                    <img src="../img/iconoRastreo.png" alt="">
                    <p>Rastrea Envío</p>
                </a>

                <a href="../html/formCancelar.html">
                    <img src="../img/iconoCancelar.png" alt="">
                    <p>Cancelar envío</p>
                </a>


            </div>

            <div class="parrafoServicios">
                <br><br>
                <p class="parrafito">

                    ¡Bienvenido a nuestro servicio de paquetería!

                    En nuestra plataforma, podrás realizar todo el proceso de envío de manera rápida y sencilla.
                    Ofrecemos las siguientes funcionalidades:

                    Registro de Envío: Registra tus envíos de forma fácil y segura, proporcionando los detalles
                    necesarios para una entrega precisa.
                    Actualización de Envíos: Mantente al tanto del estado de tu paquete con nuestras opciones de
                    actualización en tiempo real.
                    Eliminación de Envíos: Si necesitas cancelar un envío, puedes hacerlo de manera rápida desde tu
                    cuenta.
                    Rastreo de Paquetes: Haz el seguimiento de tus envíos en cualquier momento, con solo ingresar el
                    número de seguimiento.
                    Te brindamos una experiencia eficiente para que puedas manejar tus envíos sin complicaciones.
                    ¡Comienza ahora y disfruta de nuestros servicios!
                    <br><br>

                </p>
            </div>

            <br><br>
        </div>

        <div class="infoEmpresa">
            <div class="textoEmpresa" id="textoAcerca">
                <h1>
                    Sobre nosotros
                </h1>
                <p>

                    En PKT Express, entendemos que cada paquete cuenta una historia, lleva una emoción o
                    representa un compromiso. Desde nuestros inicios, hemos trabajado incansablemente para convertirnos
                    en un aliado confiable para personas y empresas que necesitan soluciones de paquetería rápidas,
                    seguras y accesibles.



                </p>

                <p id="llamadaAPI">

                </p>
            </div>

            <div class="imagenEmpresa">
                <img src="../img/imagenGenteFeliz.jpg" alt="">
                <br><br><br>

            </div>


        </div>

        <div class="piePagina">

            <div class="uno">
                <p>Av San Pablo Xalpa 180, San Martin Xochinahuac, Azcapotzalco, 02128 Ciudad de México, CDMX</p>
                <p>55 5318 9000</p>
                <p>Términos y condiciones</p>
            </div>


            <div class="dos">
                <p>Aviso de privacidad</p>
                <p>Uso de cookies</p>
            </div>


            <div class="tres">
                <p>Siguenos</p>
                <img src="../img/iconosRedes.PNG" alt="">
            </div>


        </div>

    </div>


    <script>

        const formulario = document.getElementById("consultaEnvio");
        formulario.addEventListener('submit', async (e) => {
            e.preventDefault();
            const id = document.getElementById("numEnvio").value;

            try {

                const response = await fetch(`http://localhost:3000/consultarEnvios${id}`);

                const data = await response.json();

                if (response.ok) {


                    localStorage.setItem('datosFormulario', JSON.stringify(data));
                    window.location.href = '../html/formRastrear.html';


                } else {
                    alert(`${data.error}`)
                }

            } catch (error) {
                alert('Algo ocurrio con la conexión')
            }
        });


        document.addEventListener('DOMContentLoaded', function () {
            fetch('http://localhost:3000/obtenerFrase')
                .then(function (response) {
                    if (!response.ok) {
                        throw new Error("Error al obtener la frase del día");
                    }
                    return response.json();
                })
                .then(function (frase) {
                    //alert(`${frase.affirmation}`);
                    const hoja = document.getElementById("llamadaAPI");
                    hoja.textContent = `${frase.affirmation}`;
                })
                .catch(function (error) {
                    alert('no se puede obtener la frase');
                })
        });




    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">

        </script>



</body>


</html>